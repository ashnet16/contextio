{% extends "base.html" %}
{% block body %}
<div class="row" ng-controller='InboxController as app'>
  <div class="col-md-12">
    <div class="row">
      <div class="col-md-6 col-md-offset-3">
        <div class="text-center">
          <p>To allow us to analyze your mailbox effectively you need to select one or more contacts to include</p>
        </div>
        <div>
          <a class="btn btn-primary pull-right" ng-show="app.contacts" ng-click="app.getContactsDB()">Get Contacts</a>
        </div>
        <table class="table">
          <tr ng-repeat="contact in app.contacts.contacts">
            <td class="col-sm-10">[[ app.contactText(contact)]]</td>
            <td><a class="btn btn-xs btn-default pull-right" ng-click="app.toggleContact(contact)">
              <span ng-show="app.contactExists(contact, [[$index]])">Remove</span>
              <span ng-show="!app.contactExists(contact)">Add</span></a>
            </td>
          </tr>
        </table>
        <div>
          <a class="btn btn-primary pull-right" ng-show="app.contacts" ng-click="app.doAnalysis()">Analyse Now</a>
        </div>
      </div>
      <div class="col-md-6 col-md-offset-3 text-center" ng-show="app.status.pending_analysis">
        <p ng-show="app.status.pending_analysis">Our cognitive minions are currently analysing your mailbox. Check your inbox for updated messages.</p>
      </div>
	</div>
   </div>
</div>
	 
{% endblock body %}